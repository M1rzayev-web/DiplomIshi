// const baza = [
//     {
//         id: 1,
//         brand: "Chevrolet",
//         name: "Equinox",
//         price: 130,
//         img: "/img/images/1632489639.png",
//         year: "2022",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             SUV: "Yo'l tanlamas",
//             Comfort: "Komford"
//         },
//          images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 2,
//         brand: "BMW",
//         name: "BMW 2 Series Gran Coupe",
//         price: 150,
//         img: "/img/images/bmw-2-gran-coupe-4d-white-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             SUV: "Yo'l tanlamas",
//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 3,
//         brand: "BMW",
//         name: " BMW 4 Series 430i 2D Convertible Blue",
//         price: 165,
//         img: "/img/images/bmw-4-2d-coupe-blue-US-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 4,
//         brand: "BMW",
//         name: "BMW 5 Series 540i 4D",
//         price: 165,
//         img: "/img/images/bmw-5-4d-blue-US-2022.png",
//         year: "2022",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",

//             Premium: "Premium"


//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 5,
//         brand: "BMW",
//         name: "BMW 7 Series",
//         price: 165,
//         img: "/img/images/bmw-7-4d-silver-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",
//             Comfort: "Komford"

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 6,
//         brand: "BMW",
//         name: "BMW 3 Series 330i 4D",
//         price: 145,
//         img: "/img/images/bmw-330i-4d-blue-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",
//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 7,
//         brand: "BMW",
//         name: "BMW 8 SERIES 3.0 840I 2d",
//         price: 175,
//         img: "/img/images/bmw-840i-2d-coupe-blue-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",
//             Premium: "Premium",
//             Comfort: "Komford"

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 8,
//         brand: "BMW",
//         name: "BMW 8 Series 840i 2D Convertible",
//         price: 175,
//         img: "/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",
//             Comfort: "Komford"

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 9,
//         brand: "BMW",
//         name: "BMW X1",
//         price: 175,
//         img: "/img/images/bmw-x1-suv-white-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Comfort: "Komford",
//             SUV: "Yo'l tanlamas",
//             Premium: "Premium",

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 10,
//         brand: "BMW",
//         name: "BMW X3",
//         price: 175,
//         img: "/img/images/bmw-x3-suv-white-US-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Comfort: "Komford",
//             SUV: "Yo'l tanlamas",
//             Premium: "Premium",

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 11,
//         brand: "BMW",
//         name: "BMW X5 40i 4D",
//         price: 175,
//         img: "/img/images/bmw-x5-40i-4d-suv-white-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Comfort: "Komford",
//             SUV: "Yo'l tanlamas",
//             Premium: "Premium",

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 12,
//         brand: "BMW",
//         name: "BMW XM 2024",
//         price: 175,
//         img: "/img/images/bmw-xm-suv-blue-US-2024.png",
//         year: "2024",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Comfort: "Komford",
//             SUV: "Yo'l tanlamas",
//             Premium: "Premium",

//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
//     {
//         id: 13,
//         brand: "BMW",
//         name: "BMW Z4 2D",
//         price: 175,
//         img: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//         year: "2021",
//         region: {
//             Toshkent: "Toshkent",
//         },
//         cars: {
//             Sport: "Sport",
//             SportCar: "Sport Car",
//         },
//         images: {
//             1: "/img/images/bmw-xm-suv-blue-US-2024.png",
//             2: "/img/images/bmw-Z4-2d-convertible-white-US-2021.png",
//             3: '/img/images/bmw-840i-convertible-2d-grey-open-US-2021.png'
//         }
//     },
// ]
const hBurger = document.querySelector(".h__burger");
const hBurgerX = document.querySelector(".h__burgerX");
const hMobile = document.querySelector(".header__mobile");

hBurger.addEventListener("click", function () {
    hMobile.style.display = "block";
    setTimeout(function () {
        hMobile.style.transition = "transform 0.5s ease";
        hMobile.style.transform = "translateX(0)";
    }, 1);

});

hBurgerX.addEventListener("click", function () {
    hMobile.style.transition = "transform 0.5s ease";
    hMobile.style.transform = "translateX(-100%)";
    setTimeout(function () {
        hMobile.style.display = "none";
    }, 1000);
});
const CallDiv = document.querySelector(".call_in-div");
const hideCall = document.querySelector(".h-div-Call");
hideCall.addEventListener("click", hideCallDiv);

function showCallDiv() {
  CallDiv.style.display = "block";
  CallDiv.style.display = "flex";
}

function hideCallDiv() {
  CallDiv.style.display = "none";
}



let baza = JSON.parse(localStorage.getItem('baza')) || [];
const CarsListItem = document.querySelector(".CarsListItem");
const form = document.getElementById('carRentalForm');
const submitBtn = document.getElementById('submitBtn');

submitBtn.addEventListener("click", function () {
    const brand = document.getElementById('brand').value;
    const nameValue = document.getElementById('name').value;
    const price = document.getElementById('price').value;
    const fileInput = document.getElementById('Image');

    fileInput.addEventListener('change', function (event) {
        const file = event.target.files[0];

        if (file) {
            const formData = new FormData();
            formData.append('file', file);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                const copiedImagePath = data.copiedImagePath;
                const newItem = {
                    id: baza.length + 1,
                    brand: brand,
                    name: nameValue,
                    price: price,
                    img: "/img/images/" + copiedImagePath, // Update img property with the copied image path
                    cars: {
                        Sport: "Sport",
                        SportCar: "Sport Car",
                    }
                };
                baza.push(newItem);
                localStorage.setItem('baza', JSON.stringify(baza));
                showItem();
            })
            .catch(error => {
                console.error('Error uploading file:', error);
            });
        }
    });
});

function showItem() {
    const items = baza.map((item) => {
        return `
            <div class="box__Item">
                <div class="box__item-Loc">
                    <p>Ташкент</p>
                </div>
                <div class="box__item-Img">
                    <img src="${item.img}" alt="${item.name}">
                </div>
                <h4 class="box__item-name">${item.name}</h4>
                <div class="box__item-description">
                    <ul>
                        <li><p>Ташкент</p></li>
                        <li><img src="/img/logo/dvigitel.svg" alt=""><p>Toshkent</p></li>
                        <li><i class="fa-solid fa-gas-pump"></i><p>benzin</p></li>
                    </ul>
                </div>
                <div class="box__item-price">
                    <button class="sendIDLocal">Забронировать</button>
                    <p><span>${item.price}</span>$/kun</p>
                </div>
            </div>
        `;
    }).join("");

    console.log(items);
    CarsListItem.innerHTML = items;
}

showItem();
